<!doctype html>
<html data-bs-theme="dark" lang="en"
      layout:decorate="~{layouts/default_layout}"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">


<!-- 본문 시작 -->
<div layout:fragment="content">
    <main class="main-container">
        <div class="p-4  mb-4 rounded text-body-emphasis bg-body-secondary d-flex justify-content-between flex-wrap">

            <!-- 왼쪽 시작 -->
            <div style="width: 19%;">
                <div style="text-align: center;">
                    <p style="font-family: 'spoqaB', sans-serif; " id="dateDisplay">날짜</p>
                </div>

                <div th:each="event : ${investingRealTime}">
                <p style="font-family: 'spoqaR', sans-serif; font-size: 14px;"
                   th:attr="data-event-time=${event.event_time}, data-event-description=${event.event_description}">01:00 FOMC 멤버 Williams가 연설</p><hr>
                </div>
            </div>

            <script>
                function getCurrentDate() {
                    const date = new Date();
                    const year = date.getFullYear();
                    const month = date.getMonth() + 1; // 월은 0부터 시작하므로 1을 더해줍니다.
                    const day = date.getDate();
                    const weekDays = ['일요일', '월요일', '화요일', '수요일', '목요일', '금요일', '토요일'];
                    const weekDay = weekDays[date.getDay()];

                    return `${year}년 ${month}월 ${day}일 ${weekDay}`;
                }

                document.getElementById('dateDisplay').innerHTML = `${getCurrentDate()}<br>경제 주요 일정<br>`;
            </script>
            <!-- 왼쪽 끝 -->

            <div style="width: 1%"></div>
            <div style="width: 30%;">
                <!-- 왼쪽 위젯 -->
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "NASDAQ:QQQ",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->


                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "NASDAQ:IEF",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "AMEX:UUP",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "NYMEX:CL1!",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

            </div>
            <div style="width: 30%;">
                <!-- 오른쪽 위젯 -->
                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "AMEX:SPY",
                                "interval"
                        :
                            "D",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->


                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "NASDAQ:SHY",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "BINANCE:BTCUSD",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

                <!-- TradingView Widget BEGIN -->
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/"
                                                                 rel="noopener nofollow" target="_blank"><span
                            class="blue-text">Track all markets on TradingView</span></a></div>
                    <script async
                            src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js"
                            type="text/javascript">
                        {
                            "width"
                        :
                            "100%",
                                "height"
                        :
                            "180",
                                "symbol"
                        :
                            "COMEX:GC1!",
                                "interval"
                        :
                            "5",
                                "timezone"
                        :
                            "Etc/UTC",
                                "theme"
                        :
                            "dark",
                                "style"
                        :
                            "1",
                                "locale"
                        :
                            "en",
                                "enable_publishing"
                        :
                            false,
                                "hide_top_toolbar"
                        :
                            true,
                                "allow_symbol_change"
                        :
                            false,
                                "calendar"
                        :
                            false,
                                "hide_volume"
                        :
                            true,
                                "support_host"
                        :
                            "https://www.tradingview.com"
                        }
                    </script>
                </div>
                <!-- TradingView Widget END -->

            </div>
            <div style="width: 1%"></div>

            <!-- 오른쪽 시작 -->
            <div style="width: 19%;">
                <div style="text-align: center;">
                    <p style="font-family: 'spoqaB', sans-serif; color: white;" id="dateDisplay2">오늘자 속보 요약<br></p>
                </div>
                <div th:each="event : ${financialjuice}">
                    <p class="spoqaR" style="color: white; font-size: 14px;"
                       th:attr="data-event-time=${event.event_time}, data-event-description=${event.event_description}"></p>
                    <hr>
                </div>
            </div>

            <!-- 시간 포맷 -->
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const eventElements = document.querySelectorAll('[data-event-time]');
                    eventElements.forEach(element => {
                        const eventTime = element.getAttribute('data-event-time');
                        const eventDescription = element.getAttribute('data-event-description');

                        if (eventTime) {
                            // event_time에서 시간 부분만 추출 (HH:mm 형식)
                            const timePart = eventTime.split('T')[1].substring(0, 5);
                            // 시간을 별도의 <span> 요소로 감싸고 스타일 적용
                            const timeSpan = `<span style="color: Cyan;">${timePart}</span>`;
                            element.innerHTML = `${timeSpan} ${eventDescription}`;
                        } else {
                            console.error('event_time is undefined for element:', element);
                        }
                    });
                });
            </script>

            <!-- 오른쪽 끝 -->

        </div>
    </main>
    <main class="container">
        <div class="p-4 p-md-4 mb-4 rounded text-body-emphasis bg-body-secondary d-flex justify-content-between flex-wrap">
            <img alt="썸네일" th:src="${finvizMapUrl.url}" style="width: 100%;">
        </div>
    </main>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <script src="/assets/dist/js/bootstrap.bundle.min.js"></script>
</div>
</html>
